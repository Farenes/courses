# Лабораторная №2. Разработка клиент-серверного приложение

## Тема и цель работы
Тема: разработка простого клиент-серверного приложения.

Цель: приобретение практических навыков в области сетевого программирования, реализации многопоточного или асинхронного сервера, проектирования прикладного протокола и организации взаимодействия между процессами.

## Общая постановка задачи
Необходимо разработать клиент-серверное приложение согласно индивидуальному варианту. 

Приложение должно состоять из двух независимых частей:
1. Серверная часть (Server), ожидающая подключения клиентов на заданном порту.
2. Клиентская часть (Client), подключающаяся к серверу и взаимодействующая с ним по установленному протоколу.

Сервер должен устойчиво работать и корректно обрабатывать запросы от нескольких клиентов одновременно.

## Требования к серверной части
Запуск и конфигурация: Сервер должен запускаться с указанием IP-адреса (или использовать localhost) и номера порта.

Многопоточность/Асинхронность: Реализовать возможность одновременного обслуживания нескольких клиентов. Использовать для этого либо механизм потоков (Threading), либо процессов (Multiprocessing), либо асинхронную модель (Async I/O).

Обработка подключений: Сервер должен корректно обрабатывать подключение новых клиентов и отключение существующих (в том числе аварийное), не прекращая при этом работу для остальных.

Реализация бизнес-логики: Сервер должен выполнять основную функцию, заявленную в индивидуальной задаче (обрабатывать запросы, хранить данные, управлять сеансами и т.д.).

Корректное завершение: Реализовать механизм graceful shutdown (например, по сигналу или команде), при котором сервер завершает все соединения и освобождает ресурсы.

## Требования к клиентской части
Подключение: Клиент должен подключаться к серверу по заданным IP-адресу и порту.

Пользовательский интерфейс: Реализовать консольный интерфейс для взаимодействия с пользователем.

Отправка и прием данных: Клиент должен иметь возможность отправлять запросы/сообщения на сервер и получать от него ответы.

Устойчивость к ошибкам: Клиент должен адекватно реагировать на разрыв соединения с сервером и другие сетевые ошибки.

## Требования к протоколу взаимодействия
Формат данных: Определить и реализовать прикладной протокол на основе TCP-сокетов или WebSockets. Для сериализации данных использовать простой текстовый формат (например, команды с аргументами, разделенные пробелами/переводами строк) или JSON.

Набор команд: Формализовать набор команд, которые клиент может отправлять серверу, и формат ответов сервера.

Пример:
- Команда от клиента: REGISTER <nickname>
- Ответ сервера: OK или ERROR Nickname is taken
- Команда от клиента: MSG <text_message>
- Рассылка от сервера всем клиентам: [Nickname]: text_message

## Отчет о выполнении
1. Титульный лист
2. Цель и задание работы
3. Полный код сервера и клиента в листинге
4. Скриншоты демонстрации работы клиента и сервера
5. Код размещенный в публичном Github репозитории (ссылка в отчете)

## Формат защиты работы (демонстрация)

1. Запустить серверный процесс.
2. Запустить не менее трех экземпляров клиентского приложения (например, в разных терминалах или на разных машинах).
3. Продемонстрировать полный цикл работы приложения:
- Подключение клиентов к серверу.
- Выполнение основных операций, предусмотренных заданием (обмен сообщениями, выполнение команд и т.д.).
- Показать, как сервер обрабатывает действия одного клиента и отражает их на остальных (если применимо).
- Продемонстрировать корректную обработку отключения одного из клиентов.

## Варианты
1. **Сервер калькулятор**. Клиент отправляет серверу простую арифметическую операцию (напр., "2 + 3", "10 / 2"), сервер вычисляет и возвращает результат, сохраняет историю запросов.
2. **Простой чат (базовый)**. Многопользовательский текстовый чат. Клиенты подключаются, отправляют сообщения, которые сервер рассылает всем остальным подключенным клиентам.
3. **Сервер уведомлений (Broadcast)**. Сервер принимает от одного клиента (администратора) сообщение и рассылает его всем подключенным клиентам. Обычные клиенты только получают уведомления.
4. **Сервер для голосований (опросов)**. Сервер задает вопрос и варианты ответов. Клиенты могут отправить свой голос (число). Сервер подсчитывает и по запросу возвращает результаты.
5. **Простой файловый сервер**. Клиент может запросить список файлов в определенной директории на сервере или скачать конкретный файл.
6. **Доска объявлений**. Клиенты могут "опубликовать" объявление на сервере или "прочитать" последние N объявлений.
7. **Простая сетевая игра "Угадай число"**. Сервер загадывает число. Клиент пытается его угадать, получая подсказки "больше" или "меньше". Сервер ведет счет попыток.
8. **Сервер для игры "Камень, ножницы, бумага"**. Два клиента подключаются к серверу, делают ход, сервер определяет победителя и рассылает результат.
9. **Сервер хранения ключ-значение (кэш)**. Клиент может отправить команды SET <key> <value> и GET <key>. Сервер хранит данные в оперативной памяти.
10. **Сервер загрузки файлов**. Клиент может загрузить (upload) небольшой файл на сервер в специальную папку.
11. **Система обмена сообщениями "один-на-один"**. Клиент может отправить сообщение другому клиенту, указав его уникальный ID или ник. Сервер маршрутизирует сообщение адресату.
12. **Сервер статуса**. Клиенты периодически отправляют серверу "heartbeat" (сигнал "я жив"). Сервер отображает список клиентов, которые были активны в последние N секунд.
13. **Сервер аутентификации**. Клиент должен сначала залогиниться (отправить логин/пароль), и только после этого получает доступ к основному абстрактному функционалу.
14. **Сервер логов**. Клиенты (другие приложения) отправляют на сервер логи (сообщения с уровнем: INFO, WARN, ERROR). Сервер записывает их в файл с меткой времени.
15. **Сервер для бронирования**. Сервер управляет списком мест (например, в зале). Клиент может запросить список свободных мест или "забронировать" конкретное место.
16. **Список дел**. Сервер хранит для каждого клиента список его задач. Принимает команды на добавление, удаление, отметку о выполнении. На клиенте показывается список задач, позволяет управлять им. Все изменения немедленно синхронизируются с сервером.
17. **"Аукцион" в реальном времени**. Сервер объявляет лот, принимает ставки от клиентов, определяет текущего лидера, объявляет победителя по истечении времени. На клиенте показывает текущий лот и цену, позволяет сделать ставку, получает уведомления о новых ставках других.
18. **Крестики-нолики 3x3**. Сервер создает игровые комнаты для двух игроков, проверяет ходы на корректность, определяет победителя или ничью. Клиент рисует игровое поле, отправляет координаты хода, получает и отображает ход противника.
19. **Викторина/Квиз**. Сервер задает вопросы из заранее подготовленного списка, принимает ответы от клиентов, ведет таблицу лидеров. Клиент подключается, получает вопросы, позволяет пользователю вводить ответы.
20. **Система опроса состояния сервисов**. Сервер принимает от клиентов (агентов) периодические сообщения о их состоянии (CPU, RAM, Disk Space). По запросу от администратора выводит сводку. Клиент-Агент cобирает метрики своей системы и отправляет их серверу. Клиент-Монитор подключается к серверу и запрашивает красивый отчет о состоянии всех агентов.